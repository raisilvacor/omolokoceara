{% extends "admin/base.html" %}

{% block title %}{% if user %}Editar Usuário{% else %}Novo Usuário{% endif %} - Omoloko Ceará Admin{% endblock %}

{% block content %}
<div class="edit-header">
    <h1>{% if user %}Editar Usuário{% else %}Novo Usuário{% endif %}</h1>
    <a href="{{ url_for('admin_users') }}" class="btn btn-secondary">Voltar</a>
</div>

<form method="POST" class="edit-form">
    <div class="form-group">
        <label for="username">Nome de Usuário</label>
        <input type="text" id="username" name="username" value="{{ user.username if user else '' }}" required>
        <small>Usado para fazer login no painel administrativo</small>
    </div>
    
    <div class="form-group">
        <label for="password">Senha</label>
        <input type="password" id="password" name="password" {% if not user %}required{% endif %}>
        <small>{% if user %}Deixe em branco para manter a senha atual{% else %}Senha obrigatória para novos usuários{% endif %}</small>
    </div>
    
    <div class="form-group">
        <label for="name">Nome Completo</label>
        <input type="text" id="name" name="name" value="{{ user.name if user else '' }}" required>
    </div>
    
    <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" value="{{ user.email if user else '' }}" required>
    </div>
    
    {% if user %}
    <div class="form-group">
        <label>
            <input type="checkbox" name="active" {% if user.active %}checked{% endif %}>
            Usuário Ativo
        </label>
        <small>Usuários inativos não podem fazer login</small>
    </div>
    {% endif %}
    
    <button type="submit" class="btn btn-primary">{% if user %}Atualizar Usuário{% else %}Criar Usuário{% endif %}</button>
</form>
{% endblock %}

